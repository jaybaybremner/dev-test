<section class="interactive-product-showcase">
    {% unless section.settings.title == blank %}
        <h1 class="interactive-product-showcase_title"> 
            {{ section.settings.title }}
        </h1>
    {%endunless%}

    {% unless section.subtitle == blank %}
        <h2 class="interactive-product-showcase_subtitle"> 
            {{ section.settings.subtitle }}
        </h2>
    {%endunless%}

    {% for product in collections[collection_id].products %}
        <div class="product-block">
        <img src="{{ product.featured_image | img_url: 'large' }}" alt="{{ product.title }}" />
        <h3>{{ product.title }}</h3>
        <p>{{ product.description }}</p>
        <p>Price: ${{ product.price | money }}</p>
        <form action="/cart/add" method="post">
            <input type="hidden" name="id" value="{{ product.variants.first.id }}" />
            <button type="submit">Add to Cart</button>
        </form>
        </div>
    {% endfor %}

</section>

{% schema %}
{
    "name": "Product Showcase",
    "tag": "section",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Title"
        },
        {
            "type": "text",
            "id": "subtitle",
            "label": "Sub Title"
        }
    ],
    "blocks": [
        {
            "name": "Product Showcase",
            "type": "Product",
            "settings": [
                {
                    "type": "collection",
                    "label": "Select a Collection",
                    "id": "collection_id"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Product Showcase"
        }
    ]
}
{% endschema %}
